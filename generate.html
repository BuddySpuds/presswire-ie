<!DOCTYPE html>
<html lang="en-IE">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Press Release - PressWire.ie</title>
    <meta name="description" content="Submit your domain-verified press release. Published in 60 seconds.">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        * { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
        .step-active { background: #000; color: white; }
        .step-complete { background: #10b981; color: white; }
        .step-inactive { background: #e5e7eb; color: #9ca3af; }
        @keyframes slideIn { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }
        .slide-in { animation: slideIn 0.3s ease-out; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white border-b">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex items-center justify-between h-16">
                <a href="/" class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-black rounded flex items-center justify-center">
                        <span class="text-white font-bold text-sm">PW</span>
                    </div>
                    <div>
                        <div class="font-semibold text-sm">PressWire.ie</div>
                        <div class="text-xs text-gray-500">Domain-Verified Press Releases</div>
                    </div>
                </a>
                <a href="/" class="text-sm text-gray-600 hover:text-black">← Back to Home</a>
            </div>
        </div>
    </nav>

    <div class="max-w-4xl mx-auto px-6 py-12">
        <!-- Progress Steps -->
        <div class="flex items-center justify-between mb-12">
            <div class="flex items-center flex-1">
                <div id="step1-indicator" class="w-10 h-10 rounded-full step-active flex items-center justify-center font-semibold">1</div>
                <div class="flex-1 h-1 bg-gray-200 mx-2"></div>
            </div>
            <div class="flex items-center flex-1">
                <div id="step2-indicator" class="w-10 h-10 rounded-full step-inactive flex items-center justify-center font-semibold">2</div>
                <div class="flex-1 h-1 bg-gray-200 mx-2"></div>
            </div>
            <div class="flex items-center flex-1">
                <div id="step3-indicator" class="w-10 h-10 rounded-full step-inactive flex items-center justify-center font-semibold">3</div>
                <div class="flex-1 h-1 bg-gray-200 mx-2"></div>
            </div>
            <div class="flex items-center">
                <div id="step4-indicator" class="w-10 h-10 rounded-full step-inactive flex items-center justify-center font-semibold">4</div>
            </div>
        </div>

        <!-- Step Labels -->
        <div class="grid grid-cols-4 gap-4 text-center text-sm mb-12">
            <div id="step1-label" class="font-semibold">Verify Domain</div>
            <div id="step2-label" class="text-gray-400">Company Details</div>
            <div id="step3-label" class="text-gray-400">Write PR</div>
            <div id="step4-label" class="text-gray-400">Payment</div>
        </div>

        <!-- Form Container -->
        <div class="bg-white rounded-lg shadow-sm border p-8">
            <!-- Step 1: Domain Verification -->
            <div id="step1" class="slide-in">
                <h2 class="text-2xl font-bold mb-2">Verify Your Company Domain</h2>
                <p class="text-gray-600 mb-8">Use your official company email address. Free email providers are not accepted.</p>

                <div class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Company Email Address</label>
                        <input type="email" id="company-email" placeholder="john@yourcompany.ie"
                               class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-black">
                        <p class="text-xs text-gray-500 mt-2">Must be a company domain (e.g., @company.ie). Gmail, Yahoo, etc. are blocked.</p>
                    </div>

                    <div id="verification-code-section" class="hidden">
                        <label class="block text-sm font-medium mb-2">Verification Code</label>
                        <input type="text" id="verification-code" placeholder="Enter 6-digit code" maxlength="6"
                               class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-black">
                        <p class="text-xs text-gray-500 mt-2">Check your email for the verification code.</p>
                    </div>

                    <button onclick="verifyDomain()" class="w-full bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900">
                        Send Verification Code
                    </button>
                </div>
            </div>

            <!-- Step 2: Company Details -->
            <div id="step2" class="hidden">
                <h2 class="text-2xl font-bold mb-2">Company Information</h2>
                <p class="text-gray-600 mb-8">We'll verify this against the Companies Registration Office database.</p>

                <div class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">CRO Number</label>
                        <input type="text" id="cro-number" placeholder="123456"
                               class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-black">
                        <p class="text-xs text-gray-500 mt-2">Your Companies Registration Office number</p>
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-2">Company Name</label>
                        <input type="text" id="company-name" placeholder="Your Company Ltd"
                               class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-black">
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-2">Contact Person</label>
                        <input type="text" id="contact-name" placeholder="John Smith"
                               class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-black">
                    </div>

                    <div id="cro-verification" class="hidden p-4 bg-green-50 border border-green-200 rounded-lg">
                        <div class="flex items-center text-green-700">
                            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span class="font-medium">CRO Verified</span>
                        </div>
                        <div class="mt-2 text-sm text-gray-600" id="cro-details"></div>
                    </div>

                    <div class="flex gap-4">
                        <button onclick="goToStep(1)" class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-300">
                            ← Back
                        </button>
                        <button onclick="verifyCRO()" class="flex-1 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900">
                            Verify & Continue →
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 3: Write PR -->
            <div id="step3" class="hidden">
                <h2 class="text-2xl font-bold mb-2">Write Your Press Release</h2>
                <p class="text-gray-600 mb-8">AI will help enhance your content for maximum impact.</p>

                <div class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Headline</label>
                        <input type="text" id="pr-headline" placeholder="Company Announces Major Milestone"
                               class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-black">
                        <div class="text-xs text-gray-500 mt-1">
                            <span id="headline-count">0</span>/100 characters
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-2">Summary</label>
                        <textarea id="pr-summary" rows="3" placeholder="Brief summary of your announcement (2-3 sentences)"
                                  class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-black"></textarea>
                        <div class="text-xs text-gray-500 mt-1">
                            <span id="summary-count">0</span>/300 characters
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-2">Key Points</label>
                        <textarea id="pr-keypoints" rows="5" placeholder="• Main announcement&#10;• Key benefits&#10;• Important details&#10;• Call to action"
                                  class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-black"></textarea>
                        <p class="text-xs text-gray-500 mt-2">List the main points. AI will expand these into a full press release.</p>
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-2">Contact Information</label>
                        <input type="text" id="pr-contact" placeholder="Email: john@company.ie | Phone: 01-234-5678"
                               class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-black focus:border-black">
                    </div>

                    <div class="flex gap-4">
                        <button onclick="goToStep(2)" class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-300">
                            ← Back
                        </button>
                        <button onclick="goToStep(4)" class="flex-1 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900">
                            Review & Pay →
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 4: Payment -->
            <div id="step4" class="hidden">
                <h2 class="text-2xl font-bold mb-2">Review & Payment</h2>
                <p class="text-gray-600 mb-8">Review your press release and select a distribution package.</p>

                <!-- PR Preview -->
                <div class="bg-gray-50 p-6 rounded-lg mb-8">
                    <h3 class="font-semibold mb-4">Press Release Preview</h3>
                    <div class="bg-white p-4 rounded border">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="bg-green-500 text-white text-xs px-2 py-1 rounded font-semibold">VERIFIED</span>
                            <span class="text-xs text-gray-500">Will be published via <span id="preview-domain"></span></span>
                        </div>
                        <h4 class="font-bold text-lg mb-2" id="preview-headline"></h4>
                        <p class="text-gray-600 text-sm mb-3" id="preview-summary"></p>
                        <div class="text-xs text-gray-500">
                            CRO: <span id="preview-cro"></span> • Contact: <span id="preview-contact"></span>
                        </div>
                    </div>
                </div>

                <!-- Pricing Selection -->
                <div class="space-y-4 mb-8">
                    <h3 class="font-semibold">Select Distribution Package</h3>

                    <label class="block p-4 border rounded-lg cursor-pointer hover:border-black transition">
                        <input type="radio" name="package" value="starter" checked class="mr-3">
                        <span class="font-medium">Starter - €99</span>
                        <span class="text-gray-500 text-sm ml-2">Basic distribution</span>
                    </label>

                    <label class="block p-4 border rounded-lg cursor-pointer hover:border-black transition">
                        <input type="radio" name="package" value="professional" class="mr-3">
                        <span class="font-medium">Professional - €199</span>
                        <span class="text-gray-500 text-sm ml-2">AI-enhanced + media list</span>
                        <span class="bg-green-500 text-white text-xs px-2 py-1 rounded ml-2">RECOMMENDED</span>
                    </label>

                    <label class="block p-4 border rounded-lg cursor-pointer hover:border-black transition">
                        <input type="radio" name="package" value="enterprise" class="mr-3">
                        <span class="font-medium">Enterprise - €399</span>
                        <span class="text-gray-500 text-sm ml-2">Priority placement + multimedia</span>
                    </label>
                </div>

                <div class="flex gap-4">
                    <button onclick="goToStep(3)" class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-300">
                        ← Back
                    </button>
                    <button onclick="processPayment()" class="flex-1 bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700">
                        Pay & Publish →
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
    let currentStep = 1;
    let verificationToken = null;
    let croData = null;

    // Character counters
    document.getElementById('pr-headline')?.addEventListener('input', (e) => {
        document.getElementById('headline-count').textContent = e.target.value.length;
    });
    document.getElementById('pr-summary')?.addEventListener('input', (e) => {
        document.getElementById('summary-count').textContent = e.target.value.length;
    });

    function goToStep(step) {
        // Hide all steps
        for (let i = 1; i <= 4; i++) {
            document.getElementById(`step${i}`).classList.add('hidden');
            document.getElementById(`step${i}-indicator`).className = 'w-10 h-10 rounded-full step-inactive flex items-center justify-center font-semibold';
            document.getElementById(`step${i}-label`).className = 'text-gray-400';
        }

        // Show current step
        document.getElementById(`step${step}`).classList.remove('hidden');
        document.getElementById(`step${step}`).classList.add('slide-in');
        document.getElementById(`step${step}-indicator`).className = 'w-10 h-10 rounded-full step-active flex items-center justify-center font-semibold';
        document.getElementById(`step${step}-label`).className = 'font-semibold';

        // Mark completed steps
        for (let i = 1; i < step; i++) {
            document.getElementById(`step${i}-indicator`).className = 'w-10 h-10 rounded-full step-complete flex items-center justify-center font-semibold';
        }

        currentStep = step;

        // Update preview if on step 4
        if (step === 4) {
            updatePreview();
        }
    }

    async function verifyDomain() {
        const email = document.getElementById('company-email').value;

        if (!email) {
            alert('Please enter your company email');
            return;
        }

        // Check if it's a free email provider
        const freeProviders = ['gmail.com', 'yahoo.com', 'hotmail.com', 'outlook.com'];
        const domain = email.split('@')[1];

        if (freeProviders.includes(domain)) {
            alert('Please use your company email address. Free email providers are not accepted.');
            return;
        }

        // Simulate sending verification code
        document.getElementById('verification-code-section').classList.remove('hidden');
        alert(`Verification code sent to ${email}`);

        // For demo, auto-fill code
        setTimeout(() => {
            document.getElementById('verification-code').value = '123456';
            verificationToken = 'demo-token-' + Date.now();
            goToStep(2);
        }, 2000);
    }

    async function verifyCRO() {
        const croNumber = document.getElementById('cro-number').value;
        const companyName = document.getElementById('company-name').value;

        if (!croNumber || !companyName) {
            alert('Please fill in all fields');
            return;
        }

        try {
            // Call CRO API
            const response = await fetch(`https://opendata.cro.ie/api/3/action/datastore_search?resource_id=3fef41bc-b8f4-4b10-8434-ce51c29b1bba&q=${croNumber}`);
            const data = await response.json();

            if (data.success && data.result.records.length > 0) {
                croData = data.result.records[0];
                document.getElementById('cro-verification').classList.remove('hidden');
                document.getElementById('cro-details').textContent = `Company verified: ${companyName} (CRO: ${croNumber})`;

                setTimeout(() => {
                    goToStep(3);
                }, 1500);
            } else {
                // For demo, accept any CRO number
                document.getElementById('cro-verification').classList.remove('hidden');
                document.getElementById('cro-details').textContent = `Company verified: ${companyName} (CRO: ${croNumber})`;

                setTimeout(() => {
                    goToStep(3);
                }, 1500);
            }
        } catch (error) {
            // For demo purposes, continue anyway
            document.getElementById('cro-verification').classList.remove('hidden');
            document.getElementById('cro-details').textContent = `Company verified: ${companyName} (CRO: ${croNumber})`;

            setTimeout(() => {
                goToStep(3);
            }, 1500);
        }
    }

    function updatePreview() {
        const email = document.getElementById('company-email').value;
        const domain = email.split('@')[1] || 'company.ie';

        document.getElementById('preview-domain').textContent = '@' + domain;
        document.getElementById('preview-headline').textContent = document.getElementById('pr-headline').value || 'Your Headline Here';
        document.getElementById('preview-summary').textContent = document.getElementById('pr-summary').value || 'Your summary will appear here...';
        document.getElementById('preview-cro').textContent = document.getElementById('cro-number').value || '123456';
        document.getElementById('preview-contact').textContent = document.getElementById('pr-contact').value || email;
    }

    async function processPayment() {
        const selectedPackage = document.querySelector('input[name="package"]:checked').value;
        const prices = {
            starter: 99,
            professional: 199,
            enterprise: 399
        };

        // In production, this would redirect to Stripe
        alert(`Redirecting to payment for ${selectedPackage} package (€${prices[selectedPackage]})...`);

        // Simulate payment success
        setTimeout(() => {
            window.location.href = '/success.html?pr=demo-' + Date.now();
        }, 2000);
    }
    </script>
</body>
</html>